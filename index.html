<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>흔들갈대 HOME</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Nanum Gothic', sans-serif;
        }
        
        :root {
            --main-color: #5f7561;
            --accent-color: #9ab39c;
            --dark-color: #34403a;
            --light-color: #f0f4f1;
            --text-color: #2c3e50;
            --link-color: #3a8fb7;
            --highlight-color: #e3b587;
        }
        
        body {
            background-color: var(--light-color);
            color: var(--text-color);
            line-height: 1.6;
            background-image: url('https://images.unsplash.com/photo-1584210892920-5f8bfe82be57?q=80&w=1470&auto=format&fit=crop');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-blend-mode: overlay;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        header {
            background-color: var(--main-color);
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
            background-image: url('https://images.unsplash.com/photo-1582209263130-f2880936138f?q=80&w=1470&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(95, 117, 97, 0.7);
            z-index: 1;
        }
        
        header h1, header p {
            position: relative;
            z-index: 2;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 400;
            letter-spacing: 2px;
        }
        
        nav {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
            background-color: var(--dark-color);
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 10px 18px;
            margin: 0 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .active {
            background-color: var(--accent-color);
            color: var(--dark-color);
        }
        
        main {
            display: flex;
            min-height: 70vh;
        }
        
        .content-area {
            flex: 1;
            padding: 25px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }
        
        .content-area::before {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background-image: url('https://images.unsplash.com/photo-1582210449638-91b2e7825b02?q=80&w=1470&auto=format&fit=crop');
            background-size: contain;
            background-position: bottom right;
            background-repeat: no-repeat;
            opacity: 0.1;
            z-index: 0;
            border-radius: 0 0 8px 0;
        }
        
        h1, h2, h3 {
            margin-bottom: 20px;
            color: var(--dark-color);
            position: relative;
        }
        
        h2::after {
            content: '';
            display: block;
            width: 50px;
            height: 3px;
            background-color: var(--accent-color);
            margin-top: 10px;
        }
        
        /* 스케줄 관리 */
        .schedule {
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .schedule table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            border-radius: 5px;
        }
        
        .schedule th, .schedule td {
            border: 1px solid #e0e0e0;
            padding: 14px;
            text-align: left;
        }
        
        .schedule th {
            background-color: var(--accent-color);
            color: white;
            font-weight: 500;
        }
        
        .schedule tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .schedule tr:hover {
            background-color: #f0f4f1;
        }
        
        .schedule-form {
            margin-top: 25px;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--accent-color);
        }
        
        /* 스케줄 보기 방식 */
        .schedule-view-options {
            margin-top: 35px;
        }
        
        .view-options {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .view-option {
            background-color: #f0f4f1;
            border: 1px solid #d0d5d1;
            color: var(--dark-color);
            padding: 10px 18px;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 5px;
            font-weight: 500;
        }
        
        .view-option.active {
            background-color: var(--main-color);
            color: white;
            border-color: var(--main-color);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
        
        .schedule-view {
            display: none;
        }
        
        .schedule-view.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* 달력 스타일 */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background-color: var(--accent-color);
            padding: 15px;
            border-radius: 8px 8px 0 0;
            color: white;
        }
        
        .calendar-header button {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .calendar-header button:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .calendar-grid {
            border: 1px solid #e0e0e0;
            border-radius: 0 0 8px 8px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background-color: var(--light-color);
            font-weight: bold;
        }
        
        .day-name {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .calendar-dates {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-auto-rows: minmax(120px, auto);
            background-color: white;
        }
        
        .calendar-day {
            border: 1px solid #e0e0e0;
            padding: 8px;
            min-height: 120px;
            background-color: white;
            position: relative;
            transition: all 0.2s;
        }
        
        .calendar-day:hover {
            background-color: #f9f9f9;
            transform: scale(1.02);
            z-index: 5;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .day-number {
            position: absolute;
            top: 8px;
            right: 8px;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .calendar-day.today {
            background-color: #e8f4f1;
            border: 2px solid var(--accent-color);
        }
        
        .calendar-day.other-month {
            background-color: #f9f9f9;
            color: #bbb;
        }
        
        .calendar-day.selected {
            background-color: #f5f0e5;
            border: 2px solid var(--highlight-color);
        }
        
        .calendar-day.has-events {
            position: relative;
        }
        
        .calendar-day.has-events::after {
            content: "";
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--highlight-color);
            border-radius: 50%;
            top: 8px;
            left: 8px;
            box-shadow: 0 0 5px rgba(227, 181, 135, 0.7);
        }
        
        .event-list {
            margin-top: 25px;
            font-size: 0.85rem;
            overflow: hidden;
        }
        
        .event-item {
            background-color: var(--main-color);
            color: white;
            padding: 4px 8px;
            margin-bottom: 3px;
            border-radius: 3px;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
        }
        
        .event-item:hover {
            transform: translateX(3px);
            background-color: var(--dark-color);
        }
        
        .event-details {
            margin-top: 25px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
        }
        
        .event-day-item {
            background-color: white;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
            border-left: 4px solid var(--accent-color);
            transition: all 0.2s;
        }
        
        .event-day-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .event-time {
            font-weight: bold;
            color: var(--main-color);
            margin-bottom: 5px;
        }
        
        .no-events {
            font-style: italic;
            color: #999;
            text-align: center;
            padding: 15px;
        }
        
        /* 자료 관리 */
        .files {
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .file-list {
            list-style: none;
            margin-top: 20px;
        }
        
        .file-item {
            background-color: rgba(249, 249, 249, 0.9);
            padding: 18px;
            margin-bottom: 12px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.2s;
            border-left: 4px solid var(--accent-color);
        }
        
        .file-item:hover {
            transform: translateX(3px);
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.1);
        }
        
        .file-name {
            font-weight: bold;
            color: var(--dark-color);
            margin-bottom: 5px;
        }
        
        .file-desc {
            color: #666;
            font-size: 0.9rem;
        }
        
        .file-meta {
            font-size: 0.8rem;
            color: #888;
            margin-top: 5px;
        }
        
        .file-controls button {
            margin-left: 10px;
            padding: 8px 12px;
            background-color: var(--main-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .file-controls button:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
        }
        
        /* 폴더 관리 스타일 */
        .folder-management,
        .file-upload,
        .current-path {
            background-color: rgba(249, 249, 249, 0.9);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--main-color);
        }
        
        .current-path {
            background-color: var(--light-color);
        }
        
        .path-item {
            display: inline-block;
            padding: 8px 12px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            margin-right: 8px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .path-item:not(:last-child)::after {
            content: ">";
            margin-left: 10px;
            color: var(--main-color);
            font-weight: bold;
        }
        
        .path-item:hover {
            background-color: white;
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
        
        .folder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .folder-item {
            background-color: rgba(240, 244, 241, 0.9);
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .folder-item:hover {
            background-color: white;
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .folder-icon {
            font-size: 50px;
            color: var(--highlight-color);
            margin-bottom: 15px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .folder-name {
            font-weight: bold;
            word-break: break-word;
            color: var(--dark-color);
        }
        
        .folder-controls {
            margin-top: 15px;
        }
        
        .folder-controls button {
            padding: 5px 10px;
            font-size: 0.85rem;
            margin: 0 2px;
            background-color: var(--main-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .folder-controls button:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
        }
        
        .file-explorer {
            margin-top: 35px;
        }
        
        .file-list-container {
            margin-top: 20px;
        }
        
        #currentFolder {
            font-weight: bold;
            color: var(--main-color);
            background-color: rgba(255, 255, 255, 0.6);
            padding: 5px 10px;
            border-radius: 5px;
        }
        
        .empty-message {
            text-align: center;
            padding: 20px;
            color: #888;
            font-style: italic;
            background-color: rgba(249, 249, 249, 0.7);
            border-radius: 8px;
            margin-top: 20px;
        }
        
        /* 일기장 */
        .diary {
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .diary-entry {
            background-color: rgba(249, 249, 249, 0.9);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.2s;
            border-left: 4px solid var(--accent-color);
            position: relative;
            overflow: hidden;
        }
        
        .diary-entry::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background-image: url('https://images.unsplash.com/photo-1582209263130-f2880936138f?q=80&w=1470&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            opacity: 0.05;
            border-radius: 0 0 8px 0;
        }
        
        .diary-entry:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .diary-date {
            font-weight: bold;
            color: var(--main-color);
            margin-bottom: 12px;
            font-size: 1.1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding-bottom: 8px;
        }
        
        .diary-content {
            white-space: pre-wrap;
            line-height: 1.7;
            color: var(--text-color);
            position: relative;
            z-index: 2;
        }
        
        .diary-meta {
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: #888;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            padding-top: 12px;
        }
        
        .diary-meta button {
            padding: 6px 12px;
            background-color: var(--main-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            margin-left: 8px;
        }
        
        .diary-meta button:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
        }
        
        /* 메모 */
        .memo-content {
            line-height: 1.7;
        }
        
        /* 학습 관리 스타일 */
        .study {
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .study-form {
            margin-top: 25px;
            background-color: rgba(249, 249, 249, 0.9);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--main-color);
        }
        
        .study-item {
            margin-bottom: 35px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            background-color: white;
        }
        
        .study-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }
        
        .study-header {
            background-color: var(--light-color);
            padding: 18px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .study-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .study-category {
            background-color: var(--main-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .study-content {
            padding: 25px;
            background-color: white;
            line-height: 1.7;
        }
        
        .study-controls {
            padding: 15px;
            background-color: #f9f9f9;
            border-top: 1px solid #e0e0e0;
            text-align: right;
        }
        
        .study-date {
            font-size: 0.85rem;
            color: #888;
            margin-top: 5px;
        }
        
        /* 링크 도구 스타일 */
        .link-tools {
            background-color: var(--light-color);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .tool-button {
            background-color: var(--accent-color);
            margin-left: 8px;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .tool-button:hover {
            background-color: var(--main-color);
            transform: translateY(-2px);
        }
        
        .preview-area {
            margin-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 20px;
        }
        
        .content-preview {
            background-color: white;
            border: 1px solid #e0e0e0;
            padding: 20px;
            min-height: 120px;
            margin-top: 12px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .filter-controls {
            margin-bottom: 25px;
            padding: 15px;
            background-color: var(--light-color);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .filter-controls select {
            padding: 8px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background-color: white;
            cursor: pointer;
        }
        
        /* 임베디드 콘텐츠용 스타일 */
        .study-content img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 15px 0;
            border-radius: 5px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
        }
        
        .study-content iframe {
            max-width: 100%;
            margin: 15px 0;
            border-radius: 5px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
        }
        
        .study-content a {
            color: var(--link-color);
            text-decoration: none;
            position: relative;
            padding-bottom: 2px;
            transition: all 0.2s;
        }
        
        .study-content a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background-color: var(--link-color);
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
        }
        
        .study-content a:hover {
            color: var(--main-color);
        }
        
        .study-content a:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }
        
        /* 일반 링크 스타일 */
        .content-link {
            color: var(--link-color);
            text-decoration: none;
            position: relative;
            padding-bottom: 2px;
        }
        
        .content-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background-color: var(--link-color);
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
        }
        
        .content-link:hover {
            color: var(--main-color);
        }
        
        .content-link:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }
        
        /* 폼 스타일 */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }
        
        .form-group input, 
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background-color: white;
            transition: all 0.2s;
        }
        
        .form-group input:focus, 
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(154, 179, 156, 0.2);
        }
        
        button {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        button:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        #fileUpload {
            margin-top: 15px;
            background-color: white;
            padding: 10px;
            border: 1px dashed var(--accent-color);
            border-radius: 5px;
        }
        
        .hidden {
            display: none;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease-in-out;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 25px;
            background-color: var(--dark-color);
            color: white;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1582209263130-f2880936138f?q=80&w=1470&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            opacity: 0.1;
            z-index: 0;
        }
        
        footer p {
            position: relative;
            z-index: 1;
            font-size: 1.1rem;
            letter-spacing: 1px;
        }
        
        /* 비밀번호 보호 화면 스타일 */
        #passwordScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--light-color);
            background-image: url('https://images.unsplash.com/photo-1582209263130-f2880936138f?q=80&w=1470&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .password-container {
            background-color: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            overflow: hidden;
        }
        
        .password-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: var(--main-color);
        }
        
        .password-container h2 {
            color: var(--dark-color);
            margin-bottom: 25px;
            font-size: 1.8rem;
        }
        
        .password-container p {
            margin-bottom: 25px;
            color: #666;
            line-height: 1.7;
        }
        
        .password-input {
            padding: 12px 20px;
            width: 100%;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1.1rem;
            margin-bottom: 20px;
            text-align: center;
            letter-spacing: 2px;
            transition: all 0.3s;
        }
        
        .password-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(154, 179, 156, 0.2);
        }
        
        .password-button {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }
        
        .password-button:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .error-message {
            color: #e74c3c;
            margin-top: 15px;
            font-weight: 500;
            display: none;
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        #mainContent {
            display: none;
        }
    </style>
</head>
<body>
    <!-- 비밀번호 보호 화면 -->
    <div id="passwordScreen">
        <div class="password-container">
            <h2>흔들갈대 HOME</h2>
            <p>이 페이지는 비밀번호로 보호되어 있습니다.<br>계속하려면 비밀번호를 입력하세요.</p>
            <input type="password" id="passwordInput" class="password-input" placeholder="비밀번호를 입력하세요">
            <button id="submitPassword" class="password-button">입장하기</button>
            <p id="errorMessage" class="error-message">비밀번호가 일치하지 않습니다. 다시 시도하세요.</p>
        </div>
    </div>
    
    <!-- 메인 컨텐츠 (비밀번호 입력 후 표시) -->
    <div id="mainContent">
        <div class="container">
            <header>
                <h1>흔들갈대 HOME</h1>
                <p>스케줄 관리, 자료 보관, 일기 작성을 한곳에서!</p>
            </header>
            
            <nav>
                <a href="#" class="nav-link active" data-tab="schedule">스케줄</a>
                <a href="#" class="nav-link" data-tab="files">자료 관리</a>
                <a href="#" class="nav-link" data-tab="diary">일기장</a>
                <a href="#" class="nav-link" data-tab="memo">메모</a>
                <a href="#" class="nav-link" data-tab="study">학습</a>
            </nav>
            
            <main>
                <div class="content-area">
                    <!-- 스케줄 탭 -->
                    <div id="schedule" class="tab-content active">
                        <h2>내 스케줄</h2>
                        <div class="schedule">
                            <div class="schedule-form">
                                <h3>새 일정 추가</h3>
                                <div class="form-group">
                                    <label for="eventTitle">제목</label>
                                    <input type="text" id="eventTitle" placeholder="일정 제목을 입력하세요">
                                </div>
                                <div class="form-group">
                                    <label for="eventDate">날짜</label>
                                    <input type="date" id="eventDate">
                                </div>
                                <div class="form-group">
                                    <label for="eventTime">시간</label>
                                    <input type="time" id="eventTime">
                                </div>
                                <div class="form-group">
                                    <label for="eventDescription">상세 내용</label>
                                    <textarea id="eventDescription" rows="3" placeholder="일정에 대한 상세 내용을 입력하세요"></textarea>
                                </div>
                                <button id="addSchedule">일정 추가</button>
                            </div>
                            
                            <!-- 스케줄 보기 방식 선택 -->
                            <div class="schedule-view-options">
                                <h3>일정 보기</h3>
                                <div class="view-options">
                                    <button id="viewList" class="view-option active">리스트 형식</button>
                                    <button id="viewCalendar" class="view-option">달력 형식</button>
                                </div>
                            </div>
                            
                            <!-- 리스트 형식 보기 -->
                            <div id="listView" class="schedule-view active">
                                <h3>다가오는 일정</h3>
                                <table id="scheduleTable">
                                    <thead>
                                        <tr>
                                            <th>날짜</th>
                                            <th>시간</th>
                                            <th>제목</th>
                                            <th>상세 내용</th>
                                            <th>작업</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- 자바스크립트로 동적으로 생성될 내용 -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- 달력 형식 보기 -->
                            <div id="calendarView" class="schedule-view">
                                <div class="calendar-header">
                                    <button id="prevMonth">&lt;</button>
                                    <h3 id="currentMonthYear">2025년 4월</h3>
                                    <button id="nextMonth">&gt;</button>
                                </div>
                                <div class="calendar-grid">
                                    <div class="calendar-days">
                                        <div class="day-name">일</div>
                                        <div class="day-name">월</div>
                                        <div class="day-name">화</div>
                                        <div class="day-name">수</div>
                                        <div class="day-name">목</div>
                                        <div class="day-name">금</div>
                                        <div class="day-name">토</div>
                                    </div>
                                    <div id="calendarDays" class="calendar-dates">
                                        <!-- 자바스크립트로 동적으로 생성될 내용 -->
                                    </div>
                                </div>
                                <div id="eventDetails" class="event-details">
                                    <h3>일정 상세 정보</h3>
                                    <div id="selectedDateEvents">
                                        <!-- 선택된 날짜의 일정이 표시됩니다 -->
                                        <p class="no-events">날짜를 선택하면 일정이 표시됩니다.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 자료 관리 탭 -->
                    <div id="files" class="tab-content">
                        <h2>자료 관리</h2>
                        <div class="files">
                            <p>중요한 파일과 문서를 폴더별로 저장하고 관리하세요.</p>
                            
                            <!-- 폴더 생성 -->
                            <div class="folder-management">
                                <h3>폴더 관리</h3>
                                <div class="form-group">
                                    <label for="folderName">새 폴더 이름</label>
                                    <input type="text" id="folderName" placeholder="폴더 이름을 입력하세요">
                                </div>
                                <button id="createFolder">폴더 생성</button>
                            </div>
                            
                            <!-- 현재 경로 표시 -->
                            <div class="current-path">
                                <h3>현재 위치</h3>
                                <div id="pathBreadcrumb">
                                    <span class="path-item" data-path="root">홈</span>
                                </div>
                            </div>
                            
                            <!-- 파일 업로드 -->
                            <div class="file-upload">
                                <h3>파일 업로드</h3>
                                <div class="form-group">
                                    <label for="currentFolder">현재 폴더</label>
                                    <span id="currentFolder">홈</span>
                                </div>
                                <div class="form-group">
                                    <label for="fileUpload">파일 선택</label>
                                    <input type="file" id="fileUpload" multiple>
                                </div>
                                <div class="form-group">
                                    <label for="fileDescription">파일 설명</label>
                                    <input type="text" id="fileDescription" placeholder="파일에 대한 설명을 입력하세요">
                                </div>
                                <button id="uploadFile">업로드</button>
                            </div>
                            
                            <!-- 폴더 및 파일 목록 -->
                            <div class="file-explorer">
                                <h3>내 폴더 및 파일</h3>
                                <div class="folder-list">
                                    <div id="folderList" class="folder-grid">
                                        <!-- 자바스크립트로 동적으로 생성될 내용 -->
                                    </div>
                                </div>
                                <div class="file-list-container">
                                    <ul id="fileList" class="file-list">
                                        <!-- 자바스크립트로 동적으로 생성될 내용 -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 일기장 탭 -->
                    <div id="diary" class="tab-content">
                        <h2>일기장</h2>
                        <div class="diary">
                            <div class="form-group">
                                <label for="diaryDate">날짜</label>
                                <input type="date" id="diaryDate">
                            </div>
                            <div class="form-group">
                                <label for="diaryContent">오늘의 일기</label>
                                <textarea id="diaryContent" rows="8" placeholder="오늘 있었던 일이나 생각을 자유롭게 적어보세요."></textarea>
                            </div>
                            <button id="saveDiary">저장</button>
                            
                            <h3>지난 일기</h3>
                            <div id="diaryEntries">
                                <!-- 자바스크립트로 동적으로 생성될 내용 -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- 메모 탭 -->
                    <div id="memo" class="tab-content">
                        <h2>간단 메모</h2>
                        <div class="memo">
                            <div class="form-group">
                                <label for="memoTitle">제목</label>
                                <input type="text" id="memoTitle" placeholder="메모 제목을 입력하세요">
                            </div>
                            <div class="form-group">
                                <label for="memoContent">메모 내용</label>
                                <textarea id="memoContent" rows="5" placeholder="기억해두고 싶은 내용을 적어보세요."></textarea>
                            </div>
                            <button id="saveMemo">저장</button>
                            
                            <h3>내 메모 목록</h3>
                            <div id="memoList">
                                <!-- 자바스크립트로 동적으로 생성될 내용 -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- 학습 탭 -->
                    <div id="study" class="tab-content">
                        <h2>학습 자료</h2>
                        <div class="study">
                            <div class="study-form">
                                <h3>새 학습 자료 추가</h3>
                                <div class="form-group">
                                    <label for="studyTitle">제목</label>
                                    <input type="text" id="studyTitle" placeholder="학습 자료 제목을 입력하세요">
                                </div>
                                <div class="form-group">
                                    <label for="studyCategory">카테고리</label>
                                    <input type="text" id="studyCategory" placeholder="카테고리를 입력하세요 (예: 수학, 영어, 프로그래밍)">
                                </div>
                                <div class="form-group">
                                    <label for="studyContent">내용</label>
                                    <textarea id="studyContent" rows="8" placeholder="학습 내용을 자유롭게 작성하세요. HTML 태그를 사용하여 이미지, 영상, 링크 등을 삽입할 수 있습니다."></textarea>
                                </div>
                                <div class="link-tools">
                                    <h4>링크/미디어 삽입 도구</h4>
                                    <div class="form-group">
                                        <label for="insertLinkURL">URL</label>
                                        <input type="text" id="insertLinkURL" placeholder="https://example.com">
                                        <label for="insertLinkText">텍스트</label>
                                        <input type="text" id="insertLinkText" placeholder="링크 텍스트">
                                        <button id="addLink" class="tool-button">링크 삽입</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="insertImageURL">이미지 URL</label>
                                        <input type="text" id="insertImageURL" placeholder="https://example.com/image.jpg">
                                        <label for="insertImageAlt">대체 텍스트</label>
                                        <input type="text" id="insertImageAlt" placeholder="이미지 설명">
                                        <button id="addImage" class="tool-button">이미지 삽입</button>
                                    </div>
                                    <div class="form-group">
                                        <label for="insertVideoURL">유튜브 비디오 ID</label>
                                        <input type="text" id="insertVideoURL" placeholder="유튜브 ID (예: dQw4w9WgXcQ)">
                                        <button id="addVideo" class="tool-button">동영상 삽입</button>
                                    </div>
                                    <div class="preview-area">
                                        <h4>미리보기</h4>
                                        <div id="contentPreview" class="content-preview"></div>
                                        <button id="updatePreview" class="tool-button">미리보기 업데이트</button>
                                    </div>
                                </div>
                                <button id="saveStudy">저장</button>
                            </div>
                            
                            <h3>내 학습 자료</h3>
                            <div class="filter-controls">
                                <label for="categoryFilter">카테고리 필터:</label>
                                <select id="categoryFilter">
                                    <option value="all">전체</option>
                                    <!-- 카테고리가 동적으로 추가됩니다 -->
                                </select>
                            </div>
                            <div id="studyList" class="study-list">
                                <!-- 자바스크립트로 동적으로 생성될 내용 -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            
            <footer>
                <p>&copy; 2025 흔들갈대 HOME - 모든 권리 보유</p>
            </footer>
        </div>
    </div>

    <script>
        // 비밀번호 확인 기능
        document.addEventListener('DOMContentLoaded', function() {
            const correctPassword = "sik282"; // 비밀번호 설정
            const passwordScreen = document.getElementById('passwordScreen');
            const mainContent = document.getElementById('mainContent');
            const passwordInput = document.getElementById('passwordInput');
            const submitButton = document.getElementById('submitPassword');
            const errorMessage = document.getElementById('errorMessage');
            
            // 저장된 세션이 있는지 확인
            const isAuthenticated = sessionStorage.getItem('authenticated') === 'true';
            
            if (isAuthenticated) {
                // 이미 인증된 경우 비밀번호 화면 숨기기
                passwordScreen.style.display = 'none';
                mainContent.style.display = 'block';
            }
            
            // 비밀번호 제출 버튼 클릭 이벤트
            submitButton.addEventListener('click', checkPassword);
            
            // 엔터 키 입력 이벤트
            passwordInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    checkPassword();
                }
            });
            
            // 비밀번호 확인 함수
            function checkPassword() {
                if (passwordInput.value === correctPassword) {
                    // 인증 성공
                    passwordScreen.style.display = 'none';
                    mainContent.style.display = 'block';
                    
                    // 세션에 인증 상태 저장 (탭/페이지 새로고침 시 유지)
                    sessionStorage.setItem('authenticated', 'true');
                } else {
                    // 인증 실패
                    errorMessage.style.display = 'block';
                    passwordInput.value = '';
                    
                    // 오류 메시지와 입력 필드에 애니메이션 적용
                    const container = document.querySelector('.password-container');
                    container.classList.add('shake');
                    
                    // 애니메이션 종료 후 클래스 제거
                    setTimeout(() => {
                        container.classList.remove('shake');
                    }, 500);
                }
            }
        });
        
        // 로컬 스토리지에서 데이터 가져오기
        let schedules = JSON.parse(localStorage.getItem('schedules')) || [];
        let files = JSON.parse(localStorage.getItem('files')) || [];
        let diaries = JSON.parse(localStorage.getItem('diaries')) || [];
        let memos = JSON.parse(localStorage.getItem('memos')) || [];
        let studies = JSON.parse(localStorage.getItem('studies')) || [];
        let studyCategories = new Set(); // 카테고리 중복 제거를 위한 Set
        
        // 캘린더 변수
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let selectedDate = null;

        // 탭 기능
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const tabContents = document.querySelectorAll('.tab-content');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 활성 탭 클래스 제거
                    navLinks.forEach(item => item.classList.remove('active'));
                    tabContents.forEach(item => item.classList.remove('active'));
                    
                    // 현재 탭 활성화
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                    
                    // 파일 탭으로 이동한 경우 초기 폴더 로드
                    if (tabId === 'files') {
                        loadFolderContents('root');
                    }
                });
            });
            
            // 스케줄 뷰 버튼
            document.getElementById('viewList').addEventListener('click', function() {
                document.getElementById('viewList').classList.add('active');
                document.getElementById('viewCalendar').classList.remove('active');
                document.getElementById('listView').classList.add('active');
                document.getElementById('calendarView').classList.remove('active');
            });
            
            document.getElementById('viewCalendar').addEventListener('click', function() {
                document.getElementById('viewList').classList.remove('active');
                document.getElementById('viewCalendar').classList.add('active');
                document.getElementById('listView').classList.remove('active');
                document.getElementById('calendarView').classList.add('active');
                
                // 달력 업데이트
                renderCalendar(currentMonth, currentYear);
            });
            
            // 달력 이전/다음 월 버튼
            document.getElementById('prevMonth').addEventListener('click', function() {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar(currentMonth, currentYear);
            });
            
            document.getElementById('nextMonth').addEventListener('click', function() {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar(currentMonth, currentYear);
            });
            
            // 초기 데이터 로드
            loadSchedules();
            loadFolderContents('root'); // 첫 파일 탭 접속 시 루트 폴더 표시
            loadDiaries();
            loadMemos();
            loadStudies();
            
            // 초기 달력 렌더링
            renderCalendar(currentMonth, currentYear);
            
            // 현재 날짜 설정
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('eventDate').value = today;
            document.getElementById('diaryDate').value = today;
            
            // 이벤트 리스너 등록
            document.getElementById('addSchedule').addEventListener('click', addSchedule);
            document.getElementById('createFolder').addEventListener('click', createFolder);
            document.getElementById('uploadFile').addEventListener('click', uploadFile);
            document.getElementById('saveDiary').addEventListener('click', saveDiary);
            document.getElementById('saveMemo').addEventListener('click', saveMemo);
            document.getElementById('saveStudy').addEventListener('click', saveStudy);
            
            // 링크 삽입 도구 이벤트 리스너
            if (document.getElementById('addLink')) {
                document.getElementById('addLink').addEventListener('click', function() {
                    const url = document.getElementById('insertLinkURL').value.trim();
                    const text = document.getElementById('insertLinkText').value.trim() || url;
                    
                    if (url) {
                        const linkHtml = `<a href="${url}" target="_blank" class="content-link">${text}</a>`;
                        insertToTextarea('studyContent', linkHtml);
                    }
                });
            }
            
            if (document.getElementById('addImage')) {
                document.getElementById('addImage').addEventListener('click', function() {
                    const url = document.getElementById('insertImageURL').value.trim();
                    const alt = document.getElementById('insertImageAlt').value.trim() || '이미지';
                    
                    if (url) {
                        const imgHtml = `<img src="${url}" alt="${alt}" style="max-width:100%;">`;
                        insertToTextarea('studyContent', imgHtml);
                    }
                });
            }
            
            if (document.getElementById('addVideo')) {
                document.getElementById('addVideo').addEventListener('click', function() {
                    const videoId = document.getElementById('insertVideoURL').value.trim();
                    
                    if (videoId) {
                        const videoHtml = `<iframe width="560" height="315" src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe>`;
                        insertToTextarea('studyContent', videoHtml);
                    }
                });
            }
            
            if (document.getElementById('updatePreview')) {
                document.getElementById('updatePreview').addEventListener('click', function() {
                    const content = document.getElementById('studyContent').value;
                    document.getElementById('contentPreview').innerHTML = content;
                });
            }
            
            if (document.getElementById('categoryFilter')) {
                document.getElementById('categoryFilter').addEventListener('change', function() {
                    const selectedCategory = this.value;
                    filterStudiesByCategory(selectedCategory);
                });
            }
        });
        
        // 스케줄 관리 기능
        function addSchedule() {
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const description = document.getElementById('eventDescription').value;
            
            if (!title || !date) {
                alert('제목과 날짜는 필수입니다.');
                return;
            }
            
            // URL을 링크로 변환
            const processedDescription = convertUrlsToLinks(description);
            
            const schedule = {
                id: Date.now(),
                title,
                date,
                time,
                description: processedDescription
            };
            
            schedules.push(schedule);
            localStorage.setItem('schedules', JSON.stringify(schedules));
            
            // 입력 필드 초기화
            document.getElementById('eventTitle').value = '';
            document.getElementById('eventTime').value = '';
            document.getElementById('eventDescription').value = '';
            
            // 다양한 보기 모드 업데이트
            loadSchedules();
            renderCalendar(currentMonth, currentYear);
            
            // 방금 추가한 날짜와 같은 월/년도라면 해당 날짜 선택
            const scheduleDate = new Date(date);
            if (scheduleDate.getMonth() === currentMonth && scheduleDate.getFullYear() === currentYear) {
                selectDate(scheduleDate.getDate());
            }
        }
        
        function loadSchedules() {
            const tbody = document.querySelector('#scheduleTable tbody');
            tbody.innerHTML = '';
            
            // 날짜순으로 정렬
            schedules.sort((a, b) => new Date(a.date + ' ' + (a.time || '00:00')) - new Date(b.date + ' ' + (b.time || '00:00')));
            
            schedules.forEach(schedule => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${formatDate(schedule.date)}</td>
                    <td>${schedule.time || '-'}</td>
                    <td>${schedule.title}</td>
                    <td>${schedule.description || '-'}</td>
                    <td>
                        <button onclick="deleteSchedule(${schedule.id})">삭제</button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
            
            // 외부 링크는 새 탭에서 열리도록 설정
            const links = tbody.querySelectorAll('a');
            links.forEach(link => {
                if (!link.hasAttribute('target')) {
                    link.setAttribute('target', '_blank');
                }
            });
        }
        
        function deleteSchedule(id) {
            if (confirm('이 일정을 삭제하시겠습니까?')) {
                schedules = schedules.filter(schedule => schedule.id !== id);
                localStorage.setItem('schedules', JSON.stringify(schedules));
                
                // 다양한 보기 모드 업데이트
                loadSchedules();
                renderCalendar(currentMonth, currentYear);
                
                // 선택된 날짜가 있다면 해당 날짜의 이벤트 목록 업데이트
                if (selectedDate) {
                    const selectedDateObj = new Date(currentYear, currentMonth, selectedDate);
                    showEventsForDate(selectedDateObj);
                }
            }
        }
        
        function selectDate(day) {
            selectedDate = day;
            const dayElements = document.querySelectorAll('.calendar-day');
            
            // 선택된 날짜 클래스 제거
            dayElements.forEach(el => el.classList.remove('selected'));
            
            // 현재 월의 모든 날짜 중에서 선택한 날짜 찾기
            const currentMonthDays = Array.from(dayElements).filter(el => !el.classList.contains('other-month'));
            if (currentMonthDays[day - 1]) {
                currentMonthDays[day - 1].classList.add('selected');
            }
            
            // 선택된 날짜의 이벤트 표시
            const selectedDateObj = new Date(currentYear, currentMonth, day);
            showEventsForDate(selectedDateObj);
        }
        
        // 달력 렌더링 함수
        function renderCalendar(month, year) {
            const calendarDays = document.getElementById('calendarDays');
            const currentMonthYear = document.getElementById('currentMonthYear');
            
            // 월/년 헤더 설정
            const monthNames = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
            currentMonthYear.textContent = `${year}년 ${monthNames[month]}`;
            
            // 현재 월의 첫날
            const firstDay = new Date(year, month, 1);
            
            // 현재 월의 마지막 날
            const lastDay = new Date(year, month + 1, 0);
            
            // 이전 월의 마지막 날
            const prevMonthLastDay = new Date(year, month, 0);
            
            // 첫날의 요일 (0: 일요일, 6: 토요일)
            const firstDayWeekday = firstDay.getDay();
            
            // 날짜 셀 초기화
            calendarDays.innerHTML = '';
            
            // 이전 달 날짜 채우기
            for (let i = prevMonthLastDay.getDate() - firstDayWeekday + 1; i <= prevMonthLastDay.getDate(); i++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day other-month';
                dayDiv.innerHTML = `<div class="day-number">${i}</div>`;
                calendarDays.appendChild(dayDiv);
            }
            
            // 오늘 날짜 정보
            const today = new Date();
            const todayDate = today.getDate();
            const todayMonth = today.getMonth();
            const todayYear = today.getFullYear();
            
            // 현재 달 날짜 채우기
            for (let i = 1; i <= lastDay.getDate(); i++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day';
                
                // 오늘 날짜 표시
                if (i === todayDate && month === todayMonth && year === todayYear) {
                    dayDiv.classList.add('today');
                }
                
                // 선택된 날짜 표시
                if (i === selectedDate && month === currentMonth && year === currentYear) {
                    dayDiv.classList.add('selected');
                }
                
                // 날짜에 해당하는 이벤트 확인
                const dateString = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
                const dateEvents = schedules.filter(schedule => schedule.date === dateString);
                
                // 이벤트가 있으면 표시
                if (dateEvents.length > 0) {
                    dayDiv.classList.add('has-events');
                    
                    // 이벤트 항목 추가 (최대 3개만 표시)
                    const eventListDiv = document.createElement('div');
                    eventListDiv.className = 'event-list';
                    
                    for (let j = 0; j < Math.min(dateEvents.length, 3); j++) {
                        const eventDiv = document.createElement('div');
                        eventDiv.className = 'event-item';
                        eventDiv.textContent = dateEvents[j].title;
                        eventListDiv.appendChild(eventDiv);
                    }
                    
                    // 더 많은 이벤트가 있으면 표시
                    if (dateEvents.length > 3) {
                        const moreDiv = document.createElement('div');
                        moreDiv.className = 'event-item';
                        moreDiv.textContent = `+${dateEvents.length - 3}개 더`;
                        eventListDiv.appendChild(moreDiv);
                    }
                    
                    dayDiv.appendChild(eventListDiv);
                }
                
                // 날짜 번호 추가
                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = i;
                dayDiv.appendChild(dayNumber);
                
                // 클릭 이벤트 추가
                dayDiv.addEventListener('click', function() {
                    // 이전에 선택된 날짜 클래스 제거
                    const selectedDays = document.querySelectorAll('.calendar-day.selected');
                    selectedDays.forEach(day => day.classList.remove('selected'));
                    
                    // 현재 선택된 날짜 표시
                    this.classList.add('selected');
                    selectedDate = i;
                    
                    // 선택된 날짜의 이벤트 표시
                    const selectedDateObj = new Date(year, month, i);
                    showEventsForDate(selectedDateObj);
                });
                
                calendarDays.appendChild(dayDiv);
            }
            
            // 다음 달 날짜 채우기 (42개 셀이 될 때까지 - 6주)
            const totalCells = firstDayWeekday + lastDay.getDate();
            const nextMonthDays = 42 - totalCells;
            
            for (let i = 1; i <= nextMonthDays; i++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day other-month';
                dayDiv.innerHTML = `<div class="day-number">${i}</div>`;
                calendarDays.appendChild(dayDiv);
            }
        }
        
        // 선택된 날짜의 이벤트 표시 함수
        function showEventsForDate(date) {
            const selectedDateEvents = document.getElementById('selectedDateEvents');
            const dateString = date.toISOString().split('T')[0];
            
            // 해당 날짜의 이벤트 필터링
            const dateEvents = schedules.filter(schedule => schedule.date === dateString);
            
            // 이벤트 목록 초기화
            selectedDateEvents.innerHTML = '';
            
            // 날짜 헤더 추가
            const dateHeader = document.createElement('h4');
            dateHeader.textContent = formatDate(dateString);
            selectedDateEvents.appendChild(dateHeader);
            
            if (dateEvents.length === 0) {
                const noEvents = document.createElement('p');
                noEvents.className = 'no-events';
                noEvents.textContent = '이 날짜에는 일정이 없습니다.';
                selectedDateEvents.appendChild(noEvents);
            } else {
                // 시간순으로 정렬
                dateEvents.sort((a, b) => {
                    if (!a.time) return 1;
                    if (!b.time) return -1;
                    return a.time.localeCompare(b.time);
                });
                
                // 이벤트 목록 생성
                dateEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    eventDiv.className = 'event-day-item';
                    
                    eventDiv.innerHTML = `
                        <div class="event-time">${event.time || '종일'}</div>
                        <div class="event-title">${event.title}</div>
                        ${event.description ? `<div class="event-desc">${event.description}</div>` : ''}
                        <button onclick="deleteSchedule(${event.id})">삭제</button>
                    `;
                    
                    selectedDateEvents.appendChild(eventDiv);
                });
                
                // 외부 링크는 새 탭에서 열리도록 설정
                const links = selectedDateEvents.querySelectorAll('a');
                links.forEach(link => {
                    if (!link.hasAttribute('target')) {
                        link.setAttribute('target', '_blank');
                    }
                });
            }
        }
        
        // 파일 관리 기능
        // 폴더 구조를 위한 변수
        let folders = JSON.parse(localStorage.getItem('folders')) || [
            { id: 'root', name: '홈', parentId: null }
        ];
        let currentFolderId = 'root'; // 현재 선택된 폴더
        
        // 폴더 생성 함수
        function createFolder() {
            const folderName = document.getElementById('folderName').value.trim();
            
            if (!folderName) {
                alert('폴더 이름을 입력해주세요.');
                return;
            }
            
            // 같은 폴더 내에 동일한 이름의 폴더가 존재하는지 확인
            const sameNameFolder = folders.find(folder => 
                folder.parentId === currentFolderId && 
                folder.name.toLowerCase() === folderName.toLowerCase()
            );
            
            if (sameNameFolder) {
                alert('같은 이름의 폴더가 이미 존재합니다.');
                return;
            }
            
            // 새 폴더 생성
            const newFolder = {
                id: 'folder_' + Date.now(),
                name: folderName,
                parentId: currentFolderId,
                createdAt: new Date().toISOString()
            };
            
            folders.push(newFolder);
            localStorage.setItem('folders', JSON.stringify(folders));
            
            // 폴더 목록 새로고침
            loadFolderContents(currentFolderId);
            
            // 입력 필드 초기화
            document.getElementById('folderName').value = '';
        }
        
        // 폴더 및 파일 목록 로드 함수
        function loadFolderContents(folderId) {
            // 현재 폴더 ID 업데이트
            currentFolderId = folderId;
            
            // 현재 폴더 이름 표시
            const currentFolder = folders.find(folder => folder.id === folderId);
            document.getElementById('currentFolder').textContent = currentFolder.name;
            
            // 경로 표시 업데이트
            updateBreadcrumb(folderId);
            
            // 현재 폴더의 하위 폴더 목록 가져오기
            const subFolders = folders.filter(folder => folder.parentId === folderId);
            
            // 폴더 목록 표시
            const folderList = document.getElementById('folderList');
            folderList.innerHTML = '';
            
            subFolders.forEach(folder => {
                const folderDiv = document.createElement('div');
                folderDiv.className = 'folder-item';
                folderDiv.innerHTML = `
                    <div class="folder-icon">📁</div>
                    <div class="folder-name">${folder.name}</div>
                    <div class="folder-controls">
                        <button onclick="deleteFolder('${folder.id}')">삭제</button>
                    </div>
                `;
                
                // 폴더 클릭 이벤트 - 해당 폴더로 이동
                folderDiv.addEventListener('click', function(e) {
                    // 삭제 버튼 클릭 시 이벤트 전파 중단
                    if (e.target.tagName === 'BUTTON') {
                        e.stopPropagation();
                        return;
                    }
                    loadFolderContents(folder.id);
                });
                
                folderList.appendChild(folderDiv);
            });
            
            // 현재 폴더의 파일 목록 가져오기
            const folderFiles = files.filter(file => file.folderId === folderId);
            
            // 파일 목록 표시
            loadFiles(folderFiles);
        }
        
        // 경로 표시 업데이트 함수
        function updateBreadcrumb(folderId) {
            const breadcrumb = document.getElementById('pathBreadcrumb');
            breadcrumb.innerHTML = ''; // 초기화
            
            // 경로 계층 구조 생성
            const path = [];
            let currentId = folderId;
            
            while (currentId) {
                const folder = folders.find(f => f.id === currentId);
                if (folder) {
                    path.unshift(folder); // 배열 앞에 추가
                    currentId = folder.parentId;
                } else {
                    break;
                }
            }
            
            // 경로 항목 생성
            path.forEach(folder => {
                const pathItem = document.createElement('span');
                pathItem.className = 'path-item';
                pathItem.textContent = folder.name;
                pathItem.setAttribute('data-path', folder.id);
                
                // 경로 항목 클릭 이벤트
                pathItem.addEventListener('click', function() {
                    loadFolderContents(folder.id);
                });
                
                breadcrumb.appendChild(pathItem);
            });
        }
        
        // 폴더 삭제 함수
        function deleteFolder(folderId) {
            // 이벤트 전파 방지 (이미 처리됨)
            
            // 해당 폴더에 하위 폴더나 파일이 있는지 확인
            const hasSubFolders = folders.some(folder => folder.parentId === folderId);
            const hasFiles = files.some(file => file.folderId === folderId);
            
            if (hasSubFolders || hasFiles) {
                if (!confirm('이 폴더에는 하위 폴더 또는 파일이 있습니다. 모두 삭제하시겠습니까?')) {
                    return;
                }
            } else {
                if (!confirm('이 폴더를 삭제하시겠습니까?')) {
                    return;
                }
            }
            
            // 하위 폴더 삭제 (재귀적)
            function deleteSubFolders(parentId) {
                const subFolderIds = folders
                    .filter(folder => folder.parentId === parentId)
                    .map(folder => folder.id);
                
                // 각 하위 폴더에 대해 재귀적으로 처리
                subFolderIds.forEach(subFolderId => {
                    deleteSubFolders(subFolderId);
                });
                
                // 해당 폴더의 파일 삭제
                files = files.filter(file => file.folderId !== parentId);
                
                // 폴더 자체 삭제
                folders = folders.filter(folder => folder.id !== parentId);
            }
            
            // 폴더 삭제 실행
            deleteSubFolders(folderId);
            
            // 스토리지 업데이트
            localStorage.setItem('folders', JSON.stringify(folders));
            localStorage.setItem('files', JSON.stringify(files));
            
            // 상위 폴더로 이동 (만약 현재 폴더를 삭제했다면)
            if (folderId === currentFolderId) {
                const deletedFolder = folders.find(folder => folder.id === folderId);
                const parentId = deletedFolder ? deletedFolder.parentId : 'root';
                loadFolderContents(parentId);
            } else {
                // 현재 폴더 내용 다시 로드
                loadFolderContents(currentFolderId);
            }
        }
        
        // 파일 업로드 함수 (수정)
        function uploadFile() {
            const fileInput = document.getElementById('fileUpload');
            const description = document.getElementById('fileDescription').value;
            
            if (fileInput.files.length === 0) {
                alert('파일을 선택해주세요.');
                return;
            }
            
            Array.from(fileInput.files).forEach(file => {
                // 파일을 Base64로 인코딩 (실제로는 서버에 업로드하는 게 좋습니다)
                const reader = new FileReader();
                reader.onload = function(e) {
                    const fileObj = {
                        id: Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                        name: file.name,
                        type: file.type,
                        size: file.size,
                        description: description,
                        // 실제 서비스에서는 Base64로 파일을 저장하는 것은 매우 비효율적입니다
                        // 이는 데모 목적으로만 구현된 것입니다
                        data: e.target.result.split(',')[1], 
                        uploadDate: new Date().toISOString(),
                        folderId: currentFolderId // 현재 폴더 ID 추가
                    };
                    
                    files.push(fileObj);
                    localStorage.setItem('files', JSON.stringify(files));
                    
                    // 현재 폴더의 파일 목록 다시 로드
                    loadFolderContents(currentFolderId);
                    
                    // 입력 필드 초기화
                    fileInput.value = '';
                    document.getElementById('fileDescription').value = '';
                };
                
                reader.readAsDataURL(file);
            });
        }
        
        // 파일 목록 로드 함수 (수정) - 특정 폴더의 파일만 표시
        function loadFiles(folderFiles) {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';
            
            if (folderFiles.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.className = 'empty-message';
                emptyMessage.textContent = '이 폴더에 파일이 없습니다.';
                fileList.appendChild(emptyMessage);
                return;
            }
            
            // 최신순으로 정렬
            folderFiles.sort((a, b) => new Date(b.uploadDate) - new Date(a.uploadDate));
            
            folderFiles.forEach(file => {
                const li = document.createElement('li');
                li.className = 'file-item';
                
                // 파일 크기 형식화
                const fileSize = formatFileSize(file.size);
                
                li.innerHTML = `
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-desc">${file.description || '설명 없음'}</div>
                        <div class="file-meta">크기: ${fileSize} | 업로드: ${formatDate(file.uploadDate)}</div>
                    </div>
                    <div class="file-controls">
                        <button onclick="downloadFile('${file.id}')">다운로드</button>
                        <button onclick="deleteFile('${file.id}')">삭제</button>
                    </div>
                `;
                
                fileList.appendChild(li);
            });
        }
        
        // 파일 다운로드 함수
        function downloadFile(id) {
            const file = files.find(f => f.id === id);
            if (!file) return;
            
            // Base64 데이터를 Blob으로 변환
            const byteCharacters = atob(file.data);
            const byteArrays = [];
            
            for (let offset = 0; offset < byteCharacters.length; offset += 512) {
                const slice = byteCharacters.slice(offset, offset + 512);
                
                const byteNumbers = new Array(slice.length);
                for (let i = 0; i < slice.length; i++) {
                    byteNumbers[i] = slice.charCodeAt(i);
                }
                
                const byteArray = new Uint8Array(byteNumbers);
                byteArrays.push(byteArray);
            }
            
            const blob = new Blob(byteArrays, { type: file.type });
            const url = URL.createObjectURL(blob);
            
            // 다운로드 링크 생성 및 클릭
            const a = document.createElement('a');
            a.href = url;
            a.download = file.name;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // 파일 삭제 함수 (수정)
        function deleteFile(id) {
            if (confirm('이 파일을 삭제하시겠습니까?')) {
                files = files.filter(file => file.id !== id);
                localStorage.setItem('files', JSON.stringify(files));
                
                // 현재 폴더의 파일 목록 다시 로드
                loadFolderContents(currentFolderId);
            }
        }
        
        // 일기장 기능 (링크 지원 기능 추가)
        function saveDiary() {
            const date = document.getElementById('diaryDate').value;
            const content = document.getElementById('diaryContent').value;
            
            if (!date || !content) {
                alert('날짜와 내용을 모두 입력해주세요.');
                return;
            }
            
            // 텍스트에서 URL을 감지하여 링크로 변환
            const processedContent = convertUrlsToLinks(content);
            
            // 같은 날짜의 일기가 있는지 확인
            const existingIndex = diaries.findIndex(diary => diary.date === date);
            
            if (existingIndex !== -1) {
                if (confirm('같은 날짜의 일기가 이미 존재합니다. 덮어쓰시겠습니까?')) {
                    diaries[existingIndex].content = processedContent;
                    diaries[existingIndex].updatedAt = new Date().toISOString();
                } else {
                    return;
                }
            } else {
                const diary = {
                    id: Date.now(),
                    date,
                    content: processedContent,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                
                diaries.push(diary);
            }
            
            localStorage.setItem('diaries', JSON.stringify(diaries));
            
            // 입력 필드 초기화
            document.getElementById('diaryContent').value = '';
            
            loadDiaries();
        }
        
        function loadDiaries() {
            const diaryEntries = document.getElementById('diaryEntries');
            diaryEntries.innerHTML = '';
            
            // 날짜 내림차순으로 정렬 (최신 일기가 위에 표시)
            diaries.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            diaries.forEach(diary => {
                const entry = document.createElement('div');
                entry.className = 'diary-entry';
                
                entry.innerHTML = `
                    <div class="diary-date">${formatDate(diary.date)}</div>
                    <div class="diary-content">${diary.content}</div>
                    <div class="diary-meta">
                        마지막 수정: ${formatDateTime(diary.updatedAt)}
                        <button onclick="editDiary(${diary.id})">수정</button>
                        <button onclick="deleteDiary(${diary.id})">삭제</button>
                    </div>
                `;
                
                diaryEntries.appendChild(entry);
            });
            
            // 외부 링크는 새 탭에서 열리도록 설정
            const links = diaryEntries.querySelectorAll('a');
            links.forEach(link => {
                if (!link.hasAttribute('target')) {
                    link.setAttribute('target', '_blank');
                }
            });
        }
        
        function editDiary(id) {
            const diary = diaries.find(d => d.id === id);
            if (!diary) return;
            
            document.getElementById('diaryDate').value = diary.date;
            document.getElementById('diaryContent').value = diary.content;
            
            // 탭 이동
            document.querySelector('.nav-link[data-tab="diary"]').click();
            
            // 스크롤을 맨 위로 이동
            window.scrollTo(0, 0);
        }
        
        function deleteDiary(id) {
            if (confirm('이 일기를 삭제하시겠습니까?')) {
                diaries = diaries.filter(diary => diary.id !== id);
                localStorage.setItem('diaries', JSON.stringify(diaries));
                loadDiaries();
            }
        }
        
        // 메모 기능 (링크 지원 기능 추가)
        function saveMemo() {
            const title = document.getElementById('memoTitle').value;
            const content = document.getElementById('memoContent').value;
            
            if (!title || !content) {
                alert('제목과 내용을 모두 입력해주세요.');
                return;
            }
            
            // URL을 링크로 변환
            const processedContent = convertUrlsToLinks(content);
            
            const memo = {
                id: Date.now(),
                title,
                content: processedContent,
                createdAt: new Date().toISOString()
            };
            
            memos.push(memo);
            localStorage.setItem('memos', JSON.stringify(memos));
            
            // 입력 필드 초기화
            document.getElementById('memoTitle').value = '';
            document.getElementById('memoContent').value = '';
            
            loadMemos();
        }
        
        function loadMemos() {
            const memoList = document.getElementById('memoList');
            memoList.innerHTML = '';
            
            // 최신순으로 정렬
            memos.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            
            memos.forEach(memo => {
                const memoDiv = document.createElement('div');
                memoDiv.className = 'diary-entry';
                
                memoDiv.innerHTML = `
                    <div class="diary-date">${memo.title}</div>
                    <div class="diary-content">${memo.content}</div>
                    <div class="diary-meta">
                        작성일: ${formatDateTime(memo.createdAt)}
                        <button onclick="editMemo(${memo.id})">수정</button>
                        <button onclick="deleteMemo(${memo.id})">삭제</button>
                    </div>
                `;
                
                memoList.appendChild(memoDiv);
            });
            
            // 외부 링크는 새 탭에서 열리도록 설정
            const links = memoList.querySelectorAll('a');
            links.forEach(link => {
                if (!link.hasAttribute('target')) {
                    link.setAttribute('target', '_blank');
                }
            });
        }
        
        function editMemo(id) {
            const memo = memos.find(m => m.id === id);
            if (!memo) return;
            
            document.getElementById('memoTitle').value = memo.title;
            document.getElementById('memoContent').value = memo.content;
            
            // 현재 수정 중인 메모 ID 저장 (나중에 기능 확장을 위해)
            document.getElementById('memoContent').dataset.editId = memo.id;
            
            // 탭 이동
            document.querySelector('.nav-link[data-tab="memo"]').click();
            
            // 스크롤을 맨 위로 이동
            window.scrollTo(0, 0);
        }
        
        function deleteMemo(id) {
            if (confirm('이 메모를 삭제하시겠습니까?')) {
                memos = memos.filter(memo => memo.id !== id);
                localStorage.setItem('memos', JSON.stringify(memos));
                loadMemos();
            }
        }
        
        // 학습 관리 기능
        function saveStudy() {
            const title = document.getElementById('studyTitle').value.trim();
            const category = document.getElementById('studyCategory').value.trim();
            const content = document.getElementById('studyContent').value;
            
            if (!title || !content) {
                alert('제목과 내용은 필수입니다.');
                return;
            }
            
            const study = {
                id: Date.now(),
                title,
                category,
                content,
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            
            studies.push(study);
            localStorage.setItem('studies', JSON.stringify(studies));
            
            // 카테고리 업데이트
            if (category) {
                studyCategories.add(category);
                updateCategoryFilter();
            }
            
            // 입력 필드 초기화
            document.getElementById('studyTitle').value = '';
            document.getElementById('studyCategory').value = '';
            document.getElementById('studyContent').value = '';
            document.getElementById('contentPreview').innerHTML = '';
            
            // 학습 자료 목록 새로고침
            loadStudies();
        }
        
        function loadStudies() {
            const studyList = document.getElementById('studyList');
            studyList.innerHTML = '';
            
            if (studies.length === 0) {
                studyList.innerHTML = '<p class="empty-message">저장된 학습 자료가 없습니다.</p>';
                return;
            }
            
            // 최신순으로 정렬
            studies.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));
            
            studies.forEach(study => {
                const studyDiv = document.createElement('div');
                studyDiv.className = 'study-item';
                studyDiv.dataset.category = study.category || '';
                
                studyDiv.innerHTML = `
                    <div class="study-header">
                        <div class="study-title">${study.title}</div>
                        ${study.category ? `<div class="study-category">${study.category}</div>` : ''}
                    </div>
                    <div class="study-content">${study.content}</div>
                    <div class="study-controls">
                        <div class="study-date">마지막 수정: ${formatDateTime(study.updatedAt)}</div>
                        <button onclick="editStudy(${study.id})">수정</button>
                        <button onclick="deleteStudy(${study.id})">삭제</button>
                    </div>
                `;
                
                studyList.appendChild(studyDiv);
            });
            
            // 외부 링크는 새 창에서 열리도록 설정
            const links = studyList.querySelectorAll('a');
            links.forEach(link => {
                if (!link.hasAttribute('target')) {
                    link.setAttribute('target', '_blank');
                }
            });
        }
        
        // 텍스트 영역에 HTML 삽입 함수
        function insertToTextarea(textareaId, html) {
            const textarea = document.getElementById(textareaId);
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = textarea.value;
            
            const beforeText = text.substring(0, start);
            const afterText = text.substring(end);
            
            textarea.value = beforeText + html + afterText;
            
            // 커서 위치 조정
            textarea.focus();
            textarea.selectionStart = start + html.length;
            textarea.selectionEnd = start + html.length;
            
            // 미리보기 업데이트
            document.getElementById('contentPreview').innerHTML = textarea.value;
        }
        
        // 카테고리 필터 업데이트 함수
        function updateCategoryFilter() {
            const categoryFilter = document.getElementById('categoryFilter');
            
            // 기존 옵션 저장 (전체 옵션은 유지)
            const allOption = categoryFilter.querySelector('option[value="all"]');
            categoryFilter.innerHTML = '';
            categoryFilter.appendChild(allOption);
            
            // 카테고리 옵션 추가
            studies.forEach(study => {
                if (study.category) {
                    studyCategories.add(study.category);
                }
            });
            
            // 정렬된 카테고리 목록 생성
            const sortedCategories = Array.from(studyCategories).sort();
            
            sortedCategories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categoryFilter.appendChild(option);
            });
        }
        
        // 카테고리별 학습 자료 필터링 함수
        function filterStudiesByCategory(category) {
            const studyItems = document.querySelectorAll('.study-item');
            
            studyItems.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        function editStudy(id) {
            const study = studies.find(s => s.id === id);
            if (!study) return;
            
            document.getElementById('studyTitle').value = study.title;
            document.getElementById('studyCategory').value = study.category || '';
            document.getElementById('studyContent').value = study.content;
            
            // 미리보기 업데이트
            document.getElementById('contentPreview').innerHTML = study.content;
            
            // 해당 자료 삭제
            deleteStudy(id, false); // 확인 메시지 없이 삭제
            
            // 학습 탭으로 스크롤 이동
            document.querySelector('.nav-link[data-tab="study"]').click();
            window.scrollTo(0, 0);
        }
        
        function deleteStudy(id, showConfirm = true) {
            if (showConfirm && !confirm('이 학습 자료를 삭제하시겠습니까?')) {
                return;
            }
            
            studies = studies.filter(study => study.id !== id);
            localStorage.setItem('studies', JSON.stringify(studies));
            
            // 카테고리 목록 새로고침
            studyCategories.clear();
            studies.forEach(study => {
                if (study.category) {
                    studyCategories.add(study.category);
                }
            });
            
            updateCategoryFilter();
            loadStudies();
        }
        
        // URL을 감지하여 링크로 변환하는 함수
        function convertUrlsToLinks(text) {
            // URL 정규식 패턴
            const urlPattern = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;
            
            // URL을 감지하여 링크 태그로 교체
            return text.replace(urlPattern, '<a href="$1" target="_blank" class="content-link">$1</a>');
        }
        
        // 유틸리티 함수
        function formatDate(dateString) {
            const date = new Date(dateString);
            return `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일`;
        }
        
        function formatDateTime(dateString) {
            const date = new Date(dateString);
            return `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일 ${date.getHours()}시 ${date.getMinutes()}분`;
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
    </script>
</body>
</html>